Testing with Workstation profile



This logs system specs:
testgoat@testgoat
-----------------
OS: EndeavourOS x86_64
Kernel: Linux 6.18.5-arch1-1
Uptime: 9 mins
Packages: 1104 (pacman)
Shell: bash 5.3.9
Display (100002487): 1920x1080 in 24", 60 Hz [External]
DE: KDE Plasma 6.5.5
WM: KWin (Wayland)
WM Theme: Breeze
Theme: Breeze (Dark) [Qt], Breeze-Dark [GTK2], Breeze [GTK3]
Icons: breeze-dark [Qt], breeze-dark [GTK2/3/4]
Font: Noto Sans (10pt) [Qt], Noto Sans (10pt) [GTK2/3/4]
Cursor: breeze (24px)
Terminal: konsole 25.12.1
CPU: AMD Ryzen 5 5500 (12) @ 5.64 GHz
GPU: NVIDIA GeForce RTX 3050 6GB [Discrete]
Memory: 2.42 GiB / 62.58 GiB (4%)
Swap: 143.86 MiB / 68.84 GiB (0%)
Disk (/): 16.98 GiB / 406.10 GiB (4%) - btrfs


---
Error while installing, it seems that the header files are still messed up during kernel creation.
------

[elf64-x86-64] to `/home/testgoat/Documents/GOATd-Kernel-master/linux/pkg/linux-goatd-workstation-headers/usr/lib/modules/6.18.7-arch1-1-goatd-workstation/build/stxsDk9O' [elf64-x86-64]
[10:28:33.528] Adding symlink...
[10:28:33.532] ==> Tidying install...
[10:28:33.532] ==> Tidying install...
[10:28:33.534]   -> Removing libtool files...
[10:28:33.617]   -> Removing static library files...
[10:28:33.702]   -> Purging unwanted files...
[10:28:33.867]   -> Compressing man and info pages...
[10:28:33.871] ==> Checking for packaging issues...
[10:28:33.871] ==> Checking for packaging issues...
[10:28:34.800] [STDERR] ==> WARNING: Package contains reference to $srcdir
[10:28:34.800] [STDERR] usr/lib/modules/6.18.7-arch1-1-goatd-workstation/build/vmlinux
[10:28:34.800] [STDERR] usr/lib/modules/6.18.7-arch1-1-goatd-workstation/build/rust/libcompiler_builtins.rmeta
[10:28:34.800] [STDERR] usr/lib/modules/6.18.7-arch1-1-goatd-workstation/build/rust/libbuild_error.rmeta
[10:28:34.800] [STDERR] usr/lib/modules/6.18.7-arch1-1-goatd-workstation/build/rust/libffi.rmeta
[10:28:34.800] [STDERR] usr/lib/modules/6.18.7-arch1-1-goatd-workstation/build/rust/libpin_init.rmeta
[10:28:34.801] [STDERR] usr/lib/modules/6.18.7-arch1-1-goatd-workstation/build/rust/libuapi.rmeta
[10:28:34.801] [STDERR] usr/lib/modules/6.18.7-arch1-1-goatd-workstation/build/rust/libbindings.rmeta
[10:28:34.801] [STDERR] usr/lib/modules/6.18.7-arch1-1-goatd-workstation/build/rust/libkernel.rmeta
[10:28:34.801] [STDERR] usr/lib/modules/6.18.7-arch1-1-goatd-workstation/build/rust/libpin_init_internal.so
[10:28:34.801] [STDERR] usr/lib/modules/6.18.7-arch1-1-goatd-workstation/build/rust/libmacros.so
[10:28:34.801] [STDERR] usr/lib/modules/6.18.7-arch1-1-goatd-workstation/vdso/vdso32.so
[10:28:34.801] [STDERR] usr/lib/modules/6.18.7-arch1-1-goatd-workstation/vdso/vdso64.so
[10:28:35.346] ==> Creating package "linux-goatd-workstation-headers"...
[10:28:35.346] ==> Creating package "linux-goatd-workstation-headers"...
[10:28:35.348]   -> Generating .PKGINFO file...
[10:28:36.251]   -> Generating .BUILDINFO file...
[10:28:36.569]   -> Generating .MTREE file...
[10:28:37.828]   -> Compressing package...
[10:28:39.104] ==> Starting package_linux-goatd-workstation-docs()...
[10:28:39.104] ==> Starting package_linux-goatd-workstation-docs()...
[10:28:39.104] Installing documentation...
[10:28:58.933] Adding symlink...
[10:28:58.936] ==> Tidying install...
[10:28:58.936] ==> Tidying install...
[10:28:58.938]   -> Removing libtool files...
[10:28:58.991]   -> Removing static library files...
[10:28:59.044]   -> Purging unwanted files...
[10:28:59.152]   -> Compressing man and info pages...
[10:28:59.156] ==> Checking for packaging issues...
[10:28:59.156] ==> Checking for packaging issues...
[10:29:02.141] ==> Creating package "linux-goatd-workstation-docs"...
[10:29:02.141] ==> Creating package "linux-goatd-workstation-docs"...
[10:29:02.143]   -> Generating .PKGINFO file...
[10:29:03.390]   -> Generating .BUILDINFO file...
[10:29:03.700]   -> Generating .MTREE file...
[10:29:05.490]   -> Compressing package...
[10:29:07.055] ==> Leaving fakeroot environment.
[10:29:07.055] ==> Leaving fakeroot environment.
[10:29:07.058] ==> Finished making: linux-goatd-workstation 6.18.7.arch1-1 (Sun 25 Jan 2026 10:29:07 AM MST)
[10:29:07.058] ==> Finished making: linux-goatd-workstation 6.18.7.arch1-1 (Sun 25 Jan 2026 10:29:07 AM MST)
[10:29:07.059] PHASE TRANSITION: Validation
[10:29:07.059] PHASE TRANSITION: Completed
[11:01:55.783] [INFO] [PKGBUILD] [GET_VERSION] Fetching latest version for variant: 'linux'
[11:01:55.783] [INFO] [PKGBUILD] [GET_VERSION] Fetching latest version for variant: 'linux-tkg'
[11:01:55.815] [INFO] [PKGBUILD] [GET_VERSION] Fetching latest version for variant: 'linux-lts'
[11:01:55.815] [INFO] [PKGBUILD] [GET_VERSION] Fetching latest version for variant: 'linux-hardened'
[11:01:55.902] [INFO] [PKGBUILD] [GET_VERSION] Fetching latest version for variant: 'linux-mainline'
[11:01:55.902] [INFO] [PKGBUILD] [GET_VERSION] Fetching latest version for variant: 'linux-zen'
[11:01:56.294] [INFO] [KernelManager] Kernel scan complete: 1 installed kernels found
[11:01:56.313] [INFO] [PKGBUILD] [GET_VERSION] Successfully fetched version for 'linux-tkg': '${_basekernel}-273'
[11:01:56.528] [INFO] [PKGBUILD] [GET_VERSION] Successfully fetched version for 'linux': '6.18.7.arch1-1'
[11:01:56.536] [INFO] [PKGBUILD] [GET_VERSION] Successfully fetched version for 'linux-hardened': '6.17.13.hardened1-2'
[11:01:56.536] [INFO] [PKGBUILD] [GET_VERSION] Successfully fetched version for 'linux-zen': '6.18.7.zen1-1'
[11:01:56.632] [INFO] [PKGBUILD] [GET_VERSION] Successfully fetched version for 'linux-lts': '6.12.67-1'
[11:01:56.653] [INFO] [KernelManager] Found 1 built kernels in workspace
[11:01:56.656] [INFO] [PKGBUILD] [GET_VERSION] Successfully fetched version for 'linux-mainline': '6.19rc6-1'
[11:01:58.309] [INFO] [AppController] [KERNEL] Starting async kernel installation from: ./linux/linux-goatd-workstation-6.18.7.arch1-1-x86_64.pkg.tar.zst
[11:01:58.309] [INFO] [KERNEL] [RESOLVE] Starting kernel version resolution
[11:01:58.309] [INFO] [KERNEL] [RESOLVE] Found .kernelrelease in package directory: 6.18.7-arch1-1-goatd-workstation
[11:01:58.309] [INFO] [KernelArtifactRegistry] Extracted filename version: 6.18.7.arch1-1 from linux-goatd-workstation-6.18.7.arch1-1-x86_64.pkg.tar.zst
[11:01:58.309] [INFO] [KernelArtifactRegistry] Kernel Identity: variant='linux-goatd-workstation', internal_version='6.18.7-arch1-1-goatd-workstation', filename_version=Some("6.18.7.arch1-1")
[11:01:58.309] [INFO] [KernelArtifactRegistry] ✓ Found -headers via filename version fallback: linux-goatd-workstation-headers-6.18.7.arch1-1-x86_64.pkg.tar.zst
[11:01:58.309] [INFO] [KernelArtifactRegistry] ✓ Found -docs via filename version fallback: linux-goatd-workstation-docs-6.18.7.arch1-1-x86_64.pkg.tar.zst
[11:01:58.528] [INFO] [KernelArtifactRegistry] ✓ Critical file found in tarball: include/linux/memremap.h (including deeply nested paths)
[11:01:58.528] [INFO] [KernelArtifactRegistry] ✓ Deep validation PASSED: All critical files found in headers tarball
[11:01:58.528] [INFO] [SystemWrapper] Executing batch privileged commands (7 steps)
[11:02:01.785] [INFO] [batch privileged] stdout: loading packages...
DKMS_FAILED_SYMLINKS
DKMS_FAILED_MODULES

[11:02:01.785] [INFO] [batch privileged] stderr: error: './linux/linux-goatd-workstation-6.18.7.arch1-1-x86_64.pkg.tar.zst': could not find or read package
error: './linux/linux-goatd-workstation-headers-6.18.7.arch1-1-x86_64.pkg.tar.zst': could not find or read package
error: './linux/linux-goatd-workstation-docs-6.18.7.arch1-1-x86_64.pkg.tar.zst': could not find or read package

Error! Your kernel headers for kernel 6.18.7-arch1-1-goatd-workstation cannot be found at /usr/lib/modules/6.18.7-arch1-1-goatd-workstation/build or /usr/lib/modules/6.18.7-arch1-1-goatd-workstation/source.
Please install the linux-headers-6.18.7-arch1-1-goatd-workstation package or use the --kernelsourcedir option to tell DKMS where it's located.

[11:02:01.785] [INFO] [SystemWrapper] Batch execution succeeded
[11:02:01.802] [INFO] [KernelManager] Kernel scan complete: 1 installed kernels found
[11:02:02.153] [INFO] [KernelManager] Found 1 built kernels in workspace
[11:03:10.760] [INFO] [KernelManager] Kernel scan complete: 1 installed kernels found
[11:03:11.110] [INFO] [KernelManager] Found 1 built kernels in workspace
